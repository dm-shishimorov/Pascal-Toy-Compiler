#include "stateTable.hpp"

using namespace std;

int stateTable[STATE_TABLE_HEIGHT][STATE_TABLE_WIDTH] = {
  { 2,2,2,2,2,0,1,1,1,0,3,4,5,1004,1004,6,6,11,1004,1005,7,1004,17,6,1005,1004,1005,10,8,1020,1023,1020 },
  { 1,1,1,1,1,1001,1,1,1,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001,1001 },
  { 2,2,2,2,2,1002,1020,12,1020,1002,1002,1002,1002,1002,1002,1002,1002,1002,1002,1002,1002,1002,1002,1002,1002,1002,1002,9,1002,1002,1002,1002 },
  { 1015,14,15,15,15,1016,1015,1015,1015,1016,1015,1015,1015,1015,1015,1015,1015,1015,1015,1015,1015,1015,1015,1015,1015,1015,1015,1015,1015,1015,1016,1015 },
  { 16,16,16,16,16,1017,16,16,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017,1017 },
  { 5,5,5,5,5,5,5,5,5,1022,5,5,1000,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1021,5 },
  { 1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1007,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006 },
  { 1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1007,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008 },
  { 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1009,1021,8 },
  { 18,18,18,18,18,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1018,1010,1018,1018,1018,1018 },
  { 1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1008,1004,1008,1008,1008,1008 },
  { 1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,13,1006,1007,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006 },
  { 20,20,20,20,20,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,19,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019 },
  { 13,13,13,13,13,13,13,13,13,1012,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,1012,13 },
  { 21,21,22,23,23,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011 },
  { 23,23,23,23,23,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011 },
  { 16,16,16,16,16,16,16,16,1017,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003,1003 },
  { 1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1006,1007,1006,1006,1006,1007,1006,1006,1006,1006,1006,1006,1006,1006 },
  { 18,18,18,18,18,1013,1013,12,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013,1013 },
  { 20,20,20,20,20,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019,1019 },
  { 20,20,20,20,20,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014,1014 },
  { 23,23,23,23,23,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011 },
  { 23,23,23,23,1015,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011 },
  { 1015,1015,1015,1015,1015,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011,1011 }
};

std::map<int, int> charMap = {
  { 0, 30 },{ 1, 31 },{ 2, 31 },{ 3, 31 },{ 4, 31 },
  { 5, 31 },{ 6, 31 },{ 7, 31 },{ 8, 31 },{ 9, 5 },
  { 10, 9 },{ 11, 31 },{ 12, 31 },{ 13, 31 },{ 14, 31 },
  { 15, 31 },{ 16, 31 },{ 17, 31 },{ 18, 31 },{ 19, 31 },
  { 20, 31 },{ 21, 31 },{ 22, 31 },{ 23, 31 },{ 24, 31 },
  { 25, 31 },{ 26, 31 },{ 27, 31 },{ 28, 31 },{ 29, 31 },
  { 30, 31 },{ 31, 31 },{ 32, 5 },{ 33, 31 },{ 34, 31 },
  { 35, 10 },{ 36, 11 },{ 37, 31 },{ 38, 31 },{ 39, 12 },
  { 40, 13 },{ 41, 14 },{ 42, 16 },{ 43, 15 },{ 44, 18 },
  { 45, 15 },{ 46, 27 },{ 47, 17 },{ 48, 0 },{ 49, 1 },
  { 50, 2 },{ 51, 3 },{ 52, 3 },{ 53, 3 },{ 54, 3 },
  { 55, 3 },{ 56, 4 },{ 57, 4 },{ 58, 20 },{ 59, 21 },
  { 60, 22 },{ 61, 19 },{ 62, 23 },{ 63, 31 },{ 64, 24 },
  { 65, 6 },{ 66, 6 },{ 67, 6 },{ 68, 6 },{ 69, 7 },
  { 70, 6 },{ 71, 8 },{ 72, 8 },{ 73, 8 },{ 74, 8 },
  { 75, 8 },{ 76, 8 },{ 77, 8 },{ 78, 8 },{ 79, 8 },
  { 80, 8 },{ 81, 8 },{ 82, 8 },{ 83, 8 },{ 84, 8 },
  { 85, 8 },{ 86, 8 },{ 87, 8 },{ 88, 8 },{ 89, 8 },
  { 90, 8 },{ 91, 25 },{ 92, 31 },{ 93, 25 },{ 94, 26 },
  { 95, 8 },{ 96, 31 },{ 97, 6 },{ 98, 6 },{ 99, 6 },
  { 100, 6 },{ 101, 7 },{ 102, 6 },{ 103, 8 },{ 104, 8 },
  { 105, 8 },{ 106, 8 },{ 107, 8 },{ 108, 8 },{ 109, 8 },
  { 110, 8 },{ 111, 8 },{ 112, 8 },{ 113, 8 },{ 114, 8 },
  { 115, 8 },{ 116, 8 },{ 117, 8 },{ 118, 8 },{ 119, 8 },
  { 120, 8 },{ 121, 8 },{ 122, 8 },{ 123, 28 },{ 124, 31 },
  { 125, 29 },{ 126, 31 },{ 127, 31 }
};

std::map<int, std::pair<int, int>> finalStateMap = {
  { fsBadCC, make_pair(fstError, 0) },
  { fsNoCC, make_pair(fstError, 0) },
  { fsNoHex, make_pair(fstError, 0) },
  { fsNoFract, make_pair(fstError, 0) },
  { fsNoExp, make_pair(fstError, 0) },
  { fsBadChar, make_pair(fstError, 0) },
  { fsBadEOF, make_pair(fstError, 0) },
  { fsBadNL, make_pair(fstError, 0) },
  { fsUnexpEOF, make_pair(fstUnexpEOF, 0) },
  { fsStr, make_pair(fstStr, 0) },
  { fsVar, make_pair(fstVar, 1) },
  { fsInt1, make_pair(fstInt, 1) },
  { fsHex, make_pair(fstHex, 1) },
  { fsLim1, make_pair(fstLim, 0) },
  { fsOp1, make_pair(fstOp, 0) },
  { fsOp2, make_pair(fstOp, 1) },
  { fsOp3, make_pair(fstOp, 0) },
  { fsLim2, make_pair(fstLim, 1) },
  { fsComment1, make_pair(fstComment, 0) },
  { fsInt2, make_pair(fstInt, 2) },
  { fsChar, make_pair(fstChar, 1) },
  { fsComment2, make_pair(fstComment, 1) },
  { fsReal1, make_pair(fstReal, 1) },
  { fsReal2, make_pair(fstReal, 1) }
};